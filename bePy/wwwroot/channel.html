<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <title>Channel Archive</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./css/style.css" />

</head>
<body class="bg-gray-100 text-gray-800 font-sans">

<!-- NAVBAR -->
<nav class="bg-gray-700 px-6 py-3 flex gap-6">
    <a href="./index.html" class="text-white font-bold cursor-pointer pb-1.5 hover:border-b-4 hover:border-teal-500">Add Device</a>
    <a href="./list.html" class="text-white font-bold cursor-pointer pb-1.5 hover:border-b-4 hover:border-teal-500">Device List</a>
    <a href="./sync.html" class="text-white font-bold cursor-pointer pb-1.5 hover:border-b-4 hover:border-teal-500">Sync</a>
    <a class="text-white font-bold cursor-pointer pb-1.5 border-b-4 border-teal-500">Channel</a>
    <a href="./usermanager.html" class="text-white font-bold cursor-pointer pb-1.5 hover:border-b-4 hover:border-teal-500">User</a>
</nav>
<!-- HEADER -->
    <div class="flex justify-center mb-3">

    <!-- MONTH CONTROLS -->
    <div class="flex items-center gap-2 bg-gray-100 px-3 py-1 rounded-lg shadow-sm">
        <button id="prevMonthBtn"
                class="px-2 py-1 bg-white border rounded hover:bg-gray-200">
            ◀
        </button>

        <span id="currentMonthLabel"
              class="font-semibold min-w-[100px] text-center">
            --/----
        </span>

        <button id="nextMonthBtn"
                class="px-2 py-1 bg-white border rounded hover:bg-gray-200">
            ▶
        </button>

        <button id="openConfigBtn"
                class="ml-2 px-2 py-1 bg-gray-600 text-white rounded hover:bg-gray-700">
            ⚙
        </button>
    </div>
</div>





<!-- MAIN -->
<div class="min-h-screen p-6">
    <div class="max-w-[95vw] mx-auto flex gap-6">

        <!-- LEFT: DEVICE LIST -->
        <div class="bg-white p-4 rounded-lg shadow-lg w-[320px] shrink-0">
            <h3 class="text-lg font-bold mb-3">Devices</h3>
            <ul id="deviceList" class="space-y-2"></ul>
        </div>

        <!-- RIGHT: CHANNEL TABLE -->
        <div class="bg-white p-4 rounded-lg shadow-lg flex-1 min-w-0">
            <h3 class="text-lg font-bold mb-3">Monitor</h3>

            <!-- SCROLL CONTAINER -->
            <div class="relative max-h-[75vh] overflow-auto border rounded">
                <div id="monthTableContainer"> 
                     
                    <!-- table render here -->
                </div>

                    <div id="dayTableContainer" class="hidden">
                  <!-- table ngày render ở đây -->

                    </div>
            </div>
            


        </div>

    </div>
</div>


<!-- TIME RANGE MODAL -->
<div id="timeRangeModal"
     class="hidden fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">

    <div class="bg-white rounded-lg shadow-lg p-6 w-96 max-w-full">
        <h3 class="text-lg font-bold mb-3">Time ranges</h3>

        <ul id="timeRangeList" class="space-y-2 text-sm text-gray-700"></ul>

        <div class="mt-4 text-right">
            <button onclick="closeModal()"
                    class="px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700">
                Close
            </button>
        </div>
    </div>
</div>

<!-- CONFIG MODAL -->
<div id="configModal"
     class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center z-50">

    <div class="bg-white rounded-lg shadow-lg w-96 p-5">
        <h2 class="text-lg font-semibold mb-4">⚙ Monitor Config</h2>

        <div class="space-y-3">
            <div>
                <label class="block text-sm font-medium">Start day</label>
                <input id="cfgStartDay" type="number" min="1" max="31"
                       class="w-full border rounded px-2 py-1">
            </div>

            <div>
                <label class="block text-sm font-medium">End day</label>
                <input id="cfgEndDay" type="number" min="1" max="31"
                       class="w-full border rounded px-2 py-1">
            </div>

         
        </div>

        <div class="flex justify-end gap-2 mt-5">
            <button onclick="closeConfigModal()"
                    class="px-3 py-1 bg-gray-400 text-white rounded">
                Cancel
            </button>
            <button onclick="saveConfig()"
                    class="px-3 py-1 bg-blue-600 text-white rounded">
                Save
            </button>
        </div>
    </div>
</div>


<script src="./js/auth.js"></script>
<script>
    requireAuth();
</script>
<script src="./js/channel.js"></script>


</body>
</html>
