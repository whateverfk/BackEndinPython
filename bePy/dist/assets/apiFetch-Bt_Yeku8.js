import{u as i}from"./index-DlhYqpTP.js";function c(){return localStorage.getItem("token")}function s(){i().logout(),window.location.href="/#/login"}async function h(e,o={}){const n=c(),t=await fetch(e,{...o,headers:{...o.headers||{},Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!t.ok){if(t.status===401)throw s(),new Error("Unauthorized - Redirecting to login");const a=await t.text();throw new Error(a||"API error")}const r=await t.text();return r?JSON.parse(r):{}}export{h as a};
